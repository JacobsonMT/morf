<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:of="http://omnifaces.org/functions"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:body>

	<ui:composition template="/WEB-INF/templates/template.xhtml">
		<ui:define name="content">
			
			
<!-- 			<p:layout style="min-width:400px;min-height:200px;">
			    <p:layoutUnit position="west" size="200" minSize="150" maxSize="400">
				<ul class="spaced-list">
				
				<li><h:link value="Overview" fragment="overview" /></li>
				<li><h:link value="Submitting A Job" fragment="submitting" /></li>
				<li><h:link value="Results Page" fragment="results" /></li>
				<li><h:link value="Notification Email" fragment="notification" /></li>
				<li><h:link value="Input" fragment="input" /></li>
				<li><h:link value="Jobs Table" fragment="jobs" /></li>
				<li><h:link value="Graph Output" fragment="graph" /></li>
				<li><h:link value="The Queue Structure" fragment="queue" /></li>
				<li><h:link value="References" fragment="references" /></li>
				
				</ul>
			    </p:layoutUnit>
			 
			    <p:layoutUnit position="center" > -->

			
			<h:form prependId="false" style="margin-left:200px;">

				<div id="scrolltop" class="title" style="margin-bottom:25px;">
					<h1>
						MoRFchibi SYSTEM
					</h1>
				</div>
				
				<!-- <div class="scrollspy"> -->
				<p:panel style="position:fixed;left:0px;">
				<ul class="spaced-list" style="margin-bottom:25px;">
				
				<li><h:link value="Overview" fragment="overview" /></li>
				<li><h:link value="Submitting A Job" fragment="submitting" /></li>
				<li><h:link value="Results Page" fragment="results" /></li>
				<li><h:link value="Input" fragment="input" /></li>
                                <li><h:link value="Graph Output" fragment="graph" /></li>
 				<li><h:link value="Text Output Example" fragment="output" /></li>
                                <li><h:link value="Notification Email" fragment="notification" /></li>
				<li><h:link value="Jobs Table" fragment="jobs" /></li>
				<li><h:link value="The Queue Structure" fragment="queue" /></li>
				<li><h:link value="References" fragment="references" /></li>
				
				</ul>
				</p:panel>
				<!-- </div> -->
				
				<p:fieldset id="overview" style="margin-bottom:20px;">
				   <f:facet name="legend">
				     Overview <h:link fragment="scrolltop" ><i class="fa fa-caret-square-o-up"/></h:link>
				   </f:facet>
					<p>MoRFchibi SYSTEM [1] predicts Molecular Recognition Features (MoRFs) in an amino acid query sequence. For each residue, six propensity scores are generated:</p>
					<ul class="spaced-list">
						<li>
							<b>MoRF Propensities:</b>
							<ol>
							
<li>MoRF<sub class="text">CHiBi_Web</sub>, MCW [2]: an overall MoRF prediction propensity score generated by incorporating (MC) and (MDC) scores.</li>
<li>MoRF<sub class="text">CHiBi_Light</sub>, MCL [1]: MoRF prediction propensity score generated by incorporating (MC) MoRF prediction and (IDP) protein disorder prediction scores. This score mainly target longer MoRFs.</li>
<li>MoRF<sub class="text">CHiBi</sub>, MC [3]: MoRF prediction solely based on the local physiochemical properties of the amino acid sequence.</li>							
<li>MoRF<sub class="text">DC</sub>, MDC [2]:  MoRF prediction based on the protein disorder prediction (IDP) and conservation information (ICS).</li>
							
							</ol>
</li>
<li>
							<b>Disordered Propensity, IDP:</b> IDP provides long trends protein disordered prediction based on ESpritz [4] with the DisProt option normalized [2].
						</li>
						<li>
							<b>Conservation Propensity, ICS:</b> ICS provides a general conservation propensity score assembled by aligning the query sequence to the SwissProt and the UniRef90 databases [2].
						</li>
					</ul>
					<p>Each of these scores is normalized to approximately fit a Gaussian probability density function specified by the normal distribution N(0.5, 0.01) and is limited to the range [0..1] as described in the article [2].</p>
					<p>While our objective is to predict MoRF residues (i.e. the MCW propensities score), providing component scores enables researchers to improve their interpretation of the MoRF prediction when extra information is available. For example, let's say that a region has a moderate overall MCW propensity scores and the IDP component of that score is low, then if some experimental data is available showing that region to be disordered, one can infer that the MoRF propensity score could possibly be higher. Also, manually curated multiple sequence alignments can be used to improve the quality of the conservation and thus the interpretation of MoRF propensity scores.</p>
				
				</p:fieldset>
				
				<p:fieldset id="submitting"  style="margin-bottom:20px">
				   <f:facet name="legend">
				     Submitting A Job <h:link fragment="scrolltop" ><i class="fa fa-caret-square-o-up"/></h:link>
				   </f:facet>
				<p>To process an amino acid sequence, enter (paste) the sequence in FASTA format into the input box and click 'Submit Job'. When a job is submitted, first it is scanned for input errors and then entered into the queue structure and a job record is inserted into the 'Jobs' table. Once the sequence is processed, results are made available through the results page.</p>
				
				</p:fieldset>
				
				<p:fieldset id="results" style="margin-bottom:20px">
				   <f:facet name="legend">
				     Results Page <h:link fragment="scrolltop" ><i class="fa fa-caret-square-o-up"/></h:link>
				   </f:facet>

					<p:button value="Live Results Page Sample Output for P04637 (P53)"
						icon="fa fa-external-link" outcome="savedJob" target="_blank">
						<f:param name="key" value="example" />
					</p:button>



					<p>Each page holds the outcome of processing one query sequence and is saved in the server for #{settingsCache.jobPurgeTime} hours. Page life can be renewed manually by clicking the renew button &nbsp;<i class="fa fa-refresh"/> &nbsp;in the results page, or in the 'Saved For' column of the Jobs table.</p>
				<p>The link to the results page is available through the [Ready/Not Ready] button in the 'Results' column of the Jobs table.</p>
				<p>Note that in the case of losing the browser session, links to all results pages will also be lost. If an email address is provided, notification emails are sent upon job completion with an attached copy of the results file and a link to the results page. Otherwise, it is strongly recommended that links to result pages be saved manually or bookmarked.</p>
				</p:fieldset>
							
				<p:fieldset id="input" style="margin-bottom:20px">
				   <f:facet name="legend">
				     Input <h:link fragment="scrolltop" ><i class="fa fa-caret-square-o-up"/></h:link>
				   </f:facet>
				<p>The HTML server process sequences in standard fasta format one sequence per submission. Spaces in the input sequence are ignored. When the Case Sensitive option is selected (default case), amino acids can only be represented with uppercase letters, lowercase letters will generate an error. When not selected, both lower and upper case letters can be used, and numbers are ignored and removed from the input sequence.</p>
<p>An example sequence is available by clicking 'Input Example'. To clear the input box, click 'Clear'.</p>
				</p:fieldset>
			
                                <p:fieldset id="graph" style="margin-bottom:20px">
                                   <f:facet name="legend">
                                     Graph Output <h:link fragment="scrolltop" ><i class="fa fa-caret-square-o-up"/></h:link>
                                   </f:facet>
                                <p>By default, graphs will display only the MoRF<sub class="text">CHiBi_Web</sub> MoRF propensity score for the full sequence. Other values can be displayed by clicking on the appropriate label.</p>
<p>Obviously there is no ideal way to decide on a cut off for a binary MoRF/nonMoRF decision. Since predictors are not perfect, i.e AUC is less than 1, any cut-off value is likely to leave MoRF residues unidentified and/or to wrongly identify non-MoRF residues as MoRFs. Therefore, we recommend that each user (researcher) use a cut off-value that is best suited to his/her tolerance of false positive/negative. However, some users may prefer to use a generic cut-off, in this case we suggest a MoRF<sub class="text">CHiBi_Web</sub>  value around 0.725. At this cut-off, MoRF<sub class="text">CHiBi_Web</sub> has a (TPR, FPR) of (0.567, 0.077) and (0.405, 0.057) on TEST_EXP53 and TEST_HT, respectively. The Toggle MoRF Bands option display/hide this binary MoRF/nonMoRF decision. Sections with less than 4 residues above this cut-off are not identified as MoRFs. Note that since propensity scores are not perfect, a longer MoRF might have only some of its residues above a given cut-off value.</p>
<p>The vertical Propensity scale is adjusted automatically to best fit the data, the Toggle Y-Axis Bounds can be used to change the Y-axis bounds to [0-1].</p>
<p>The menu provides printing or downloading the graph in PNG, JPEG, PDF, or SVG format.</p>
<p> One can select an area using the mouse to zoom-in.</p>
                                </p:fieldset>
	
				<p:fieldset id="output" style="margin-bottom:20px">
				   <f:facet name="legend">
				     Text Output Example <h:link fragment="scrolltop" ><i class="fa fa-caret-square-o-up"/></h:link>
				   </f:facet>
					<div style="font-family:'Courier New';line-height:0.2;margin-top:15px;">
<p><font color="grey">01</font> #</p>
<p><font color="grey">02</font> # MoRFchibi SYSTEM &lt;Release 1.0 Dec. 15 2015&gt;</p>
<p><font color="grey">03</font> #</p>
<p><font color="grey">04</font> # The University of British Columbia</p>
<p><font color="grey">05</font> # Michael Smith Laboratories - Center for High-Throughput Biology </p>
<p><font color="grey">06</font> #</p>
<table class="simple-table"  cellspacing="0">
<tr> <td><font color="grey">07</font> #</td> <td>Column</td> <td>Data type</td> </tr>
<tr> <td><font color="grey">08</font> #</td> <td>1</td> <td>residue index</td> </tr>
<tr> <td><font color="grey">09</font> #</td> <td>2</td> <td>residue</td> </tr>
<tr> <td><font color="grey">10</font> #</td> <td>3</td> <td>MCW</td> </tr>
<tr> <td><font color="grey">11</font> #</td> <td>4</td> <td>MCL</td> </tr>
<tr> <td><font color="grey">12</font> #</td> <td>5</td> <td>MC</td> </tr>
<tr> <td><font color="grey">13</font> #</td> <td>6</td> <td>MDC</td> </tr>
<tr> <td><font color="grey">13</font> #</td> <td>7</td> <td>IDP</td> </tr>
<tr> <td><font color="grey">14</font> #</td> <td>8</td> <td>ICS</td> </tr>
</table>

<p><font color="grey">16</font> # </p>
<p><font color="grey">17</font> >Example</p>

<table class="simple-table"  cellspacing="0">

<tr> <td><font color="grey">18</font> 1</td> <td>M</td> <td>0.733845</td> <td>0.647014</td> <td>0.59774</td>  <td>0.6498</td>   <td>0.496945</td> <td>0.754775</td> </tr>
<tr> <td><font color="grey">19</font> 2</td> <td>K</td> <td>0.717923</td> <td>0.628357</td> <td>0.59755</td>  <td>0.63156</td>  <td>0.496565</td> <td>0.485545</td> </tr>
<tr> <td><font color="grey">20</font> 3</td> <td>E</td> <td>0.720699</td> <td>0.63223</td>  <td>0.598595</td> <td>0.633745</td> <td>0.49837</td>  <td>0.52193</td>  </tr>
<tr> <td><font color="grey">21</font> 4</td> <td>F</td> <td>0.718552</td> <td>0.629868</td> <td>0.59869</td>  <td>0.63118</td>  <td>0.498592</td> <td>0.670653</td> </tr>
<tr> <td><font color="grey">22</font> ...</td> <td>......</td> <td>......</td> <td>......</td><td>......</td><td>......</td><td>......</td> </tr>
<tr> <td><font color="grey">23</font> ...</td> <td>......</td> <td>......</td><td>......</td><td>......</td><td>......</td><td>......</td> </tr>

</table>
					</div>
					<br/>
<p>Lines 1 to 16: Results header.</p>
<p>Line 17: The sequence FASTA title</p>
<p>Lines 18 to the end of file:</p>
<ul>
<li>Column 1: Sequence residue index.</li>
<li>Column 2: Sequence residue.</li>
<li>Column 3: MCW: MoRFchibi_Web propensity score.</li>
<li>Column 4: MCL: MoRFchibi_Light propensity score. This score target longer MoRFs</li>
<li>Column 5: MC : MoRFchibi prediction solely based on the local physiochemical properties of the amino acid sequence.</li>
<li>Column 6: MDC: MoRFdc propensity score based on protein long trends of disorder and conservation information.</li>
<li>Column 7: IDP: Long trends of protein disorder propensity score generated by ESpritz with the DisProt option.</li>
<li>Column 8: ICS: Residues initial conservation score, a general conservation propensity score assembled from the two PSSM generated by aligning the query sequence to the SwissProt and the UniRef90 databases.</li>
</ul>
<p>... All scores are normalized as described in [2]... </p>

				</p:fieldset>

                                <p:fieldset id="notification" style="margin-bottom:20px">
                                   <f:facet name="legend">
                                     Notification Email <h:link fragment="scrolltop" ><i class="fa fa-caret-square-o-up"/></h:link>
                                   </f:facet>
                                <p>If an email address is provided (providing an email address is optional), a notification email will be sent once a job is processed. Notification emails includes an attached copy of the results file and a link to the results page.</p>
                                </p:fieldset>

				
				<p:fieldset id="jobs" style="margin-bottom:20px">
				   <f:facet name="legend">
				     Jobs Table <h:link fragment="scrolltop" ><i class="fa fa-caret-square-o-up"/></h:link>
				   </f:facet>
				<p>Each 'Job' record has the following fields:</p>
					<ol class="spaced-list">
						<li> <b>Id</b>: a unique integer job id. </li>
						<li> <b>Label</b>: the job label is the FASTA sequence title. Job labels are not unique. </li>
						<li> <b>Size [residues]</b>: the size of the sequence in residues. </li>
						<li>
								<b>Status</b>: one of following five values:
								<ul>
								<li>
									<b>&lt;Processing&gt;</b> The sequence is currently been processed.
								</li>
								<li>
									<b>&lt;Position: x&gt;</b> The job is in the server queue at position x.
								</li>
								<li>
									<b>&lt;Pending&gt;</b> The job is in the private user queue.
								</li>
								<li>
									<b>&lt;Completed in Xs&gt;</b> The job has completed in X seconds.
								</li>
								<li>
									<b>&lt;Failed&gt;</b> Error Message.
								</li>
								</ul>
						</li>
						<li> <b>Results</b>: Provides a link to the results page, and button [Graph] to display the graph. </li>
						<li> <b>Save For</b>: displays the number of hours left in the results page life. A renew button &nbsp;<i class="fa fa-refresh"/> &nbsp; renews that life to #{settingsCache.jobPurgeTime} hours. </li>
					</ol>
				</p:fieldset>
				
				<p:fieldset id="queue" style="margin-bottom:20px">
				   <f:facet name="legend">
				     The Queue Structure <h:link fragment="scrolltop" ><i class="fa fa-caret-square-o-up"/></h:link>
				   </f:facet>
				<p>A two tier queue system with a server queue and user queues is implemented to prevent a single user of dominating the server with a large number of jobs. In this structure, each user can place up to two jobs in the server queue. If a user submits more than two jobs, those extra jobs will be placed temporarily in that user private queue. Once a user's job in the server queue is completed, the job at the top of that user's queue (if exist) will be moved to the tail of the server queue. User queues are located on the server, thus, once the link to the result page is secured, users can safely close the browser.</p>
				</p:fieldset>
				
				<p:fieldset id="references" style="margin-bottom:20px">
				   <f:facet name="legend">
				     References <h:link fragment="scrolltop" ><i class="fa fa-caret-square-o-up"/></h:link>
				   </f:facet>
				<ul class="spaced-list">
<li>[1] Malhis N, Jacobson M, and Gsponer J. <strong>MoRFchibi SYSTEM: Software Tools for the Identification of MoRFs in Protein sequences</strong>. <em><a href="http://nar.oxfordjournals.org/content/early/2016/05/12/nar.gkw409.full" target="_blank">Nucleic Acids Research (2016), DOI: 10.1093/nar/gkw409</a></em>.</li>
<li>[2] Malhis N, Wong TCE, Nassar R, Gsponer J. <strong>Computational Identification of MoRFs in Protein Sequences Using Hierarchical Application of Bayes Rule</strong>. <a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0141603" target="_blank"><em>PLOS ONE (2015), DOI: 10.1371/journal.pone.0141603</em>.</a></li>				
<li>[3] Malhis N, and Gsponer J. <strong>Computational Identification of MoRFs in Protein Sequences</strong>.&nbsp; <em><a href="http://bioinformatics.oxfordjournals.org/content/31/11/1738.abstract" target="_blank">Bioinformatics (2015) 31 (11): 1738-1744</a></em>.</li>
<li>[4] Walsh I1, Martin AJ, Di Domenico T, Tosatto SC. <strong>ESpritz: accurate and fast prediction of protein disorder</strong>.&nbsp; <em><a href="http://bioinformatics.oxfordjournals.org/content/28/4/503.abstract" target="_blank">Bioinformatics. 28(4):503-9.   (2012)</a></em>.</li>
				</ul>
				</p:fieldset>


			</h:form>
<!-- 			<div class="footer">
				<p>
					&copy; UBC, Centre for High-throughput Biology, 2015
					<h:link value="Terms and Conditions" outcome="/about.xhtml" />
					<h:link value="Contact Us" outcome="/about.xhtml" style="position:absolute;right:50px;"/>
				</p>
			</div>
			    </p:layoutUnit>
			</p:layout> -->
		</ui:define>
	</ui:composition>

</h:body>

</html>
